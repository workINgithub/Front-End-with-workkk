# 声明合并

> TypeScript中有些独特的概念可以在类型层面上描述JavaScript对象的模型。 这其中尤其独特的一个例子是“声明合并”的概念。 理解了这个概念，将有助于操作现有的JavaScript代码。 同时，也会有助于理解更多高级抽象的概念。
> 对本文件来讲，“声明合并”是指编译器将针对同一个名字的两个独立声明合并为单一声明。 合并后的声明同时拥有原先两个声明的特性。 任何数量的声明都可被合并；不局限于两个声明。

### 基础概念

> TypeScript中的声明会创建以下三种实体之一：命名空间，类型或值。 创建命名空间的声明会新建一个命名空间，它包含了用（.）符号来访问时使用的名字。 创建类型的声明是：用声明的模型创建一个类型并绑定到给定的名字上。 最后，创建值的声明会创建在JavaScript输出中看到的值。

就如同文档的最后一句所说，**创建值的声明会创建JavaScript输出中看到的值**。也就是说创建值的声明，在编译后都是由具体变量的。

例如：
1. Namespace = 对象
2. Calss = 构造函数
3. 函数
4. 变量
5. Enum

创造命名空间的只有namespace。

然后创造类型的有：
1. Class
2. Enum(这个是比较少用到，作为一个类型)
3. interface
4. type

### 合并接口

1. 接口类的非函数成员应当是唯一。重名若类型不同会报错。
2. 对于函数成员，每个同名函数声明都会被当成这个函数的一个重载。 同时需要注意，当接口 A与后来的接口 A合并时，后面的接口具有更高的优先级。
（合并顺序，后来的接口在考前的位置。2.特殊的函数签名，例如参数的类型是 单一的字符串字面量）

### 合并命名空间

同名的命名空间，也会自然的合并。

> 除了这些合并外，你还需要了解非导出成员是如何处理的。**非导出成员仅在其原有的（合并前的）命名空间内可见**。这就是说合并之后，从其它命名空间合并进来的成员无法访问非导出成员。

这点在将ts文件编译后，实际上就是两个IFEE函数，有先后顺序。因为没有导出变量，所以后面的函数内部拿不到那个变量。