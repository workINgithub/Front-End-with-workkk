# 2020年2月27日 学习日记

最近学习略显疲态，自己可能觉得有些累了。所以进度很慢，其实自己也不想刷一些b站的视频，就是觉得想要
浪费时间，把脑子放空。但还是得加油，否则怎么能实现自己的梦想呢？

#### storage

/browser/storage

实际上这个浏览器存储 讲道理应该划分到HTML5 内容。但我觉得这块的确我对这两个定义有点理不清。所以暂时
放在浏览器单元。

首先得强调的是，**storage的作用域。** 它大体上也遵循同源策略 但有些细节不同.

*sessionstorage*
> 例如sessionstorage作用域除了同源策略外，还限制在窗口中。这个窗口指的是顶级窗口(也就是标签页window.top)
> 但如果是标签页含有两个iframe元素，他们所包含的文档是同源的，即可共享sessionStorage

*localstorage*
> 同源文档共享该数据

**有效期**
localstorage除非人为删除 否则是永久的。
sessionstorage 会话级别(但是现代浏览器 重新打开最近关闭的标签页 恢复上次会话功能，所以sessionstorage相应增长)


**事件**

```
window.addEventListener('storage' , function (e) {

})
```

注意事件名称 ，以及事件对象e
广播机制

> 另外该事件只会触发在存储数据真正改变的时候。例如修改一个值。
> 但如果 移除一个本身不存在的值 或是 改成和之前一样的值 事件不会触发
> javascript权威指南 p585