# 浏览器底层

### attention

要注意的是因为浏览器插件的资源下载，可能会导致performance面板的误差。所以还是用无痕模式来测试。

### js阻塞DOM构建、css阻塞

js可能会操作dom，所以在js加载解析完成后，才能继续执行DOM的解析构建。
同理，js可能会操作css，所以在js执行前，所有的css都需要加载完成。

（这个其实和浏览器的滚动有点像，浏览器是否可以在后面提出一个优化点这个脚本不会操作dom或css呢）

### HTML parser

渲染引擎还有一个安全检查模块叫 XSSAuditor，是用来检测词法安全的。在分词器解析出来 Token 之后，它会检测这些模块是否安全，比如是否引用了外部脚本，是否符合 CSP 规范，是否存在跨站点请求等。如果出现不符合规范的内容，XSSAuditor 会对该脚本或者下载任务进行拦截。详细内容我们会在后面的安全模块介绍，这里就不赘述了。