# position: absolute

`absolute`这个属性其实有很多的奥秘。

### 包含块

它的包含块是由最近的position不为static的祖先元素（inline元素也可以）建立，一直没有则容纳块为根元素。

* inline元素（用的比较少，只是写个概念）
内联元素前后两个内联盒子围成的盒子。

* 块级元素边界是**padding-box**

### 容纳块对其的影响

1. `height: 100%`以及`height: inherit`的不同。
100%是第一个具有定位属性值的祖先元素的高度，而`inherit`则是单纯的父元素的高度继承。

2. 绝对定位元素的包裹性(很重要)

* **默认**最大的宽度等于包含块的宽度（width.html)

但如果你强制设置width还是有效果的。

还有一种奇怪的场景通过js脚本，我们设置一个元素为绝对定位，插入到body元素中，但它定位但位置居于浏览器的右边缘，为什么还是会有`一柱擎天`的情况。
此时它的包含块是html元素，那讲道理这个时候该元素的宽度应该是html的宽度，为什么内容还是产生了换行?
> 这是由于一个很大的left值，导致"包含块"的剩余空间不足，这相当于定位元素的默认最大宽度变的很小了，最终导致了该效果。[容纳块宽度为定位元素的默认最大宽度](https://demo.cssworld.cn/6/5-2.php)


### 相对无依赖absolute绝对定位

> absolute是非常独立的属性值，其样式和行为表现不依赖其他任何css属性就可以完成。

从not-relative.html文件中你就可以看到, 没有容纳块的绝对定位元素，它实际上就在原本的位置上（**但脱离了流的限制**）。

具体在看[张鑫旭老师的demo](https://demo.cssworld.cn/6/5-5.php)，因为里面的icon图标是"无依赖绝对定位",它本身就是跟在文字后面的，所以无论前面的文字如果调整（变长变短），icon图标都是在原本的位置上（但不在流里）。

这个特性我觉得在做badge的时候非常有用。

除了这个，css世界里还指出了几种用法:
* 超越常规布局的排版（输入框类的提示信息跟随输入框）
* 下拉列表的定位
* 占位符效果模拟

#### 进一步深入无依赖绝对定位

position: absolute的元素display计算值都是块状的，但其定位的位置和却和设置position: absolut时候的位置相关。



